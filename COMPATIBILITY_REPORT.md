## Отчёт по совместимости WifiGuard (APK)

### Поддерживаемые платформы (фактически)
- **Android (AOSP/Google)**: **Android 8.0+ (API 26+)** — определяется `minSdk = 26`.
- **OEM-прошивки на базе Android (APK поддерживается)**: HyperOS (Xiaomi), One UI (Samsung), ColorOS/OxygenOS/RealmeUI (BBK Group), HarmonyOS 1.0–4.2 (старые версии на базе Android), Custom ROM (LineageOS, GrapheneOS, CalyxOS, /e/OS, PixelExperience).

### Ключевые риски стабильности по версиям Android
- **Android 10+**: ограничения на активное Wi‑Fi сканирование; часто доступны только **кэшированные результаты**.
- **Android 13+**: требуется `NEARBY_WIFI_DEVICES` и/или ограничения на доступ к SSID/BSSID.
- **Android 14+**: ограничения запуска **foreground service из фона** (возможен запрет/исключение при старте). Для типа `location` важно наличие разрешения на геолокацию.

### Меры совместимости, реализованные в коде
- **WorkManager**: добавлен безопасный доступ через `WorkManagerSafe.getInstanceOrNull()` с обработкой `IllegalStateException` (на некоторых прошивках WorkManager может быть недоступен).
- **Foreground Service (сканирование)**: добавлен fallback — при невозможности запуска (в т.ч. Android 14+ из фона) показывается уведомление с предложением **открыть приложение** и повторить действие.
- **Уведомления**: добавлено самовосстановление канала уведомлений (попытка пересоздания, если канал отсутствует).
- **OEM battery optimization**: расширены инструкции для производителей (Xiaomi/HyperOS, vivo/iQOO и др.).

### Известные ограничения (ожидаемое поведение)
- **Android 10+ / OEM**: сканирование может возвращать пусто при выключенной системной геолокации, агрессивной оптимизации батареи, или системных ограничениях.
- **HarmonyOS NEXT 5.0**: **APK не поддерживается** (вне зоны совместимости).

### Рекомендации по проверке перед релизом
- Минимум: запуск/разрешения/сканирование/уведомления на API 26, 29, 33, 34, 35.
- OEM: Xiaomi (HyperOS), Samsung (One UI), OPPO/Realme, Huawei/Honor (HarmonyOS 2–4.2).
