# üîç –ê—É–¥–∏—Ç –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º Google Play –∏ Android 15 (API 35)

## üî¥ **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï** –ø—Ä–æ–±–ª–µ–º—ã

1. **Target SDK —É—Å—Ç–∞—Ä–µ–ª**: –í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `targetSdk = 34`, –Ω–æ –Ω–∞ –Ω–æ—è–±—Ä—å 2025 –≥–æ–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `targetSdk = 35` –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º Google Play.

2. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 16KB —Å—Ç—Ä–∞–Ω–∏—Ü NDK**: –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã native –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (`.so` —Ñ–∞–π–ª—ã), –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è 16KB —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º, —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è Android 15.

## üü° **–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–Ø**

1. **Foreground Service**: –í `AndroidManifest.xml` –æ–±—ä—è–≤–ª–µ–Ω `FOREGROUND_SERVICE` –±–µ–∑ —è–≤–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è —Ç–∏–ø–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤, —á—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å Android 14/15.

2. **JDK —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Gradle 8.10 —Å JDK 17, —á—Ç–æ –≤ —Ü–µ–ª–æ–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ, –Ω–æ –¥–ª—è AGP 8.x —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è JDK 21 –¥–ª—è –ø–æ–ª–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

## üìã **–í–ï–†–°–ò–ò**

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ–∫—É—â–∞—è | –¢—Ä–µ–±—É–µ–º–∞—è |
|----------|---------|-----------|
| Target SDK | 34 | 35 |
| Compile SDK | 34 | 35 |
| AGP | 8.6.0 | 8.6.0+ |
| Kotlin | 2.1.0 | 2.0+ |
| Gradle | 8.10 | 8.10+ |
| Billing Library | –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | 7.0.0+ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è) |
| JDK | 17 (min) | 21 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) |

## üí° **–ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø**

1. **–û–±–Ω–æ–≤–∏—Ç–µ Target SDK**: 
   - –í `gradle/libs.versions.toml` –∏–∑–º–µ–Ω–∏—Ç–µ `targetSdk = "35"`
   - –í `build.gradle.kts` (app module) —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `targetSdk = libs.versions.targetSdk.get().toInt()`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ native –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–∞ 16KB page alignment**:
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `page_alignment_injector` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ `.so` —Ñ–∞–π–ª–æ–≤
   - –î–æ–±–∞–≤—å—Ç–µ `android.packaging.jniLibs.useLegacyPackaging = true` –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

3. **–û–±–Ω–æ–≤–∏—Ç–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è foreground service**:
   - –£—Ç–æ—á–Ω–∏—Ç–µ —Ç–∏–ø—ã —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ `AndroidManifest.xml`:
   ```xml
   <service
       android:name="androidx.work.impl.foreground.SystemForegroundService"
       android:foregroundServiceType="location|dataSync"
       tools:node="merge" />
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Billing Library**:
   - –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –æ–±–Ω–æ–≤–∏—Ç–µ –¥–æ –≤–µ—Ä—Å–∏–∏ 7.0.0 –∏–ª–∏ –≤—ã—à–µ:
   ```kotlin
   implementation("com.android.billingclient:billing:7.0.0")
   ```

5. **–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ JDK –¥–æ 21** –¥–ª—è –ø–æ–ª–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å AGP 8.x:
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `gradle.properties` —É–∫–∞–∑–∞–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `org.gradle.jvmargs` —Å JDK 21

–í –ø—Ä–æ–µ–∫—Ç–µ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Billing Library, —á—Ç–æ –∏–∑–±–∞–≤–ª—è–µ—Ç –æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ –≤–µ—Ä—Å–∏–∏ 7.x –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º Google Play.